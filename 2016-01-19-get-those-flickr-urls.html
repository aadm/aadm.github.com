<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>aadm: get those flickr urls</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="http://aadm.github.io/favicon.png" rel="icon">

<link rel="canonical" href="http://aadm.github.io/2016-01-19-get-those-flickr-urls.html">

        <meta name="author" content="Alessandro Amato del Monte" />
        <meta name="keywords" content="tech,python" />
        <meta name="description" content="Warning: this is serious nerdy stuff. Not for the faint of heart. Carry on reading if: you know what Python is you have a blog, but not the easy kind like Tumblr or Blogger, something that allows you to write in HTML (or Markdown), e.g. Pelican or Jekyll you have a Flickr account and want to post links to photos or albums in said blog" />

        <meta property="og:site_name" content="aadm" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="get those flickr urls"/>
        <meta property="og:url" content="http://aadm.github.io/2016-01-19-get-those-flickr-urls.html"/>
        <meta property="og:description" content="Warning: this is serious nerdy stuff. Not for the faint of heart. Carry on reading if: you know what Python is you have a blog, but not the easy kind like Tumblr or Blogger, something that allows you to write in HTML (or Markdown), e.g. Pelican or Jekyll you have a Flickr account and want to post links to photos or albums in said blog"/>
        <meta property="article:published_time" content="2016-01-19" />
            <meta property="article:section" content="misc" />
            <meta property="article:tag" content="tech" />
            <meta property="article:tag" content="python" />
            <meta property="article:author" content="Alessandro Amato del Monte" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://aadm.github.io/theme/css/bootstrap.journal.min.css" type="text/css"/>
    <link href="http://aadm.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://aadm.github.io/theme/css/pygments/tango.css" rel="stylesheet">
        <link href="http://aadm.github.io/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="http://aadm.github.io/theme/css/style.css" type="text/css"/>
        <link href="http://aadm.github.io/static/custom.css" rel="stylesheet">

        <link href="http://aadm.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="aadm ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://aadm.github.io/" class="navbar-brand">
aadm            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/pages/projects.html">projects</a></li>
                    <li><a href="/pages/about.html">about</a></li>
                    <li><a href="/blog_index.html">journal</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <!-- <li><a href="http://aadm.github.io/blog_index.html"><i class="fa fa-th-list"></i><span class="icon-label">blog</span></a></li> -->
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://aadm.github.io/2016-01-19-get-those-flickr-urls.html"
                       rel="bookmark"
                       title="Permalink to get those flickr urls">
                        get those flickr&nbsp;urls
                    </a>
                </h1>
            </header>
            <div class="well well-sm">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-01-19T23:47:21+01:00"> 2016-01-19</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="http://aadm.github.io/tag/tech.html">tech</a>
        /
	<a href="http://aadm.github.io/tag/python.html">python</a>
    
</footer><!-- /.post-info -->            </div>
            <div class="entry-content">
                <p>Warning: this is serious nerdy stuff. Not for the faint of heart. Carry on reading if:</p>
<ul>
<li>you know what Python is</li>
<li>you have a blog, but not the easy kind like Tumblr or Blogger, something that allows you to write in <span class="caps">HTML</span> (or Markdown), e.g. Pelican or Jekyll</li>
<li>you have a Flickr account and want to post links to photos or albums in said blog</li>
</ul>

<p>What these two scripts do is simply to print out to console a nicely formatted <code>&lt;figure&gt;</code> tag with the static <span class="caps">URL</span> of a 1600 px (long side) version of your original photo and a caption with all the common shoot data (aperture, shutter speed, etc, like you used to have in the old times before artists got fancy and began shooting with iPhones; I know I used to record on a little paper notebook these data long before Exif was born). If that’s not available (for older photos I know flickr did not create such versions) the script will fall back to a standard “Large” size (1024 px long side).</p>
<p>The first script (<code>flickr_foto.py</code>) will work on a single photo, the second (<code>flickr_album.py</code>) will work on all the photos contained in an album. You obviously need albums with a reasonable number of photos (10-20 sounds good to me; if I had an album with 100 photos I wouldn’t want to post them all at once).</p>
<p>Why would you use it over the usual web interface that Flickr has (the little curvy arrow that brings out a form to copy <span class="caps">HTML</span> or BBcode pointing at the desidered version)? Because it’s faster. And I like to geek out a little.</p>
<p>This is an example of how to call <code>flickr_foto.py</code> from the command line and its output:</p>
<div class="highlight"><pre><span></span>$ python flickr_foto.py <span class="m">7932925194</span>

---BEGIN---

&lt;figure&gt;
&lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">"https://www.flickr.com/photos/aadm/7932925194"</span> <span class="nv">title</span><span class="o">=</span><span class="s2">"2012-08-31_D7K6251"</span>&gt;&lt;img <span class="nv">src</span><span class="o">=</span><span class="s2">"https://farm9.staticflickr.com/8312/7932925194_c031aa4eb0_h.jpg"</span> <span class="nv">width</span><span class="o">=</span><span class="s2">"800"</span> <span class="nv">height</span><span class="o">=</span><span class="s2">"530"</span>&gt;&lt;/a&gt;
&lt;figcaption&gt;1/125 sec. at f/5.6, ISO <span class="m">100</span>, <span class="m">52</span> mm <span class="o">(</span>AF-S DX Nikkor 35mm f/1.8G, NIKON D7000<span class="o">)</span>.&lt;/figcaption&gt;
&lt;/figure&gt;

---END---
</pre></div>
<p>More in detail, the only parameter to pass are:</p>
<div class="highlight"><pre><span></span>$ python flickr_foto.py PHOTO_ID
$ python flickr_album.py ALBUM_ID
</pre></div>
<p>where <code>PHOTO_ID</code> is the numerical code you see in the <span class="caps">URL</span> of a Flickr photo (for <a href="https://www.flickr.com/photos/aadm/24465904520"><code>https://www.flickr.com/photos/aadm/24465904520/</code></a> it is 24465904520), while <code>ALBUM_ID</code> is the  code of a Flickr album, (for <a href="http://www.flickr.com/photos/aadm/albums/72157656289357513"><code>http://www.flickr.com/photos/aadm/albums/72157656289357513</code></a> it is 72157656289357513).</p>
<p>Here’s <code>flickr_foto.py</code>:</p>
<div class="highlight"><pre><span></span><span class="c1">#**********************************************************</span>
<span class="c1"># flickr_foto.py</span>
<span class="c1"># (C) 2015-2016 aadm</span>
<span class="c1">#**********************************************************</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">flickrapi</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">'INSERT_API_KEY_HERE'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">'INSERT_API_SECRET_HERE'</span>
<span class="n">flickr</span> <span class="o">=</span> <span class="n">flickrapi</span><span class="o">.</span><span class="n">FlickrAPI</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s1">'parsed-json'</span><span class="p">)</span>

<span class="n">VV</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span>

<span class="n">aa</span><span class="o">=</span><span class="n">flickr</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">getInfo</span><span class="p">(</span><span class="n">photo_id</span><span class="o">=</span><span class="n">VV</span><span class="p">)</span>
<span class="n">fotoID</span><span class="o">=</span><span class="n">aa</span><span class="p">[</span><span class="s1">'photo'</span><span class="p">][</span><span class="s1">'id'</span><span class="p">]</span>
<span class="n">title</span><span class="o">=</span><span class="n">aa</span><span class="p">[</span><span class="s1">'photo'</span><span class="p">][</span><span class="s1">'title'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
<span class="n">url_page</span><span class="o">=</span><span class="n">aa</span><span class="p">[</span><span class="s1">'photo'</span><span class="p">][</span><span class="s1">'urls'</span><span class="p">][</span><span class="s1">'url'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>

<span class="n">aa</span><span class="o">=</span><span class="n">flickr</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">getSizes</span><span class="p">(</span><span class="n">photo_id</span><span class="o">=</span><span class="n">fotoID</span><span class="p">)</span>
<span class="n">flag1600px</span><span class="o">=</span><span class="bp">None</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aa</span><span class="p">[</span><span class="s1">'sizes'</span><span class="p">][</span><span class="s1">'size'</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Large 1600'</span><span class="p">:</span>
        <span class="n">url_src</span><span class="o">=</span><span class="n">i</span><span class="p">[</span><span class="s1">'source'</span><span class="p">]</span>
        <span class="n">xx</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">'width'</span><span class="p">])</span>
        <span class="n">yy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">'height'</span><span class="p">])</span>
        <span class="n">flag1600px</span><span class="o">=</span><span class="bp">True</span>
<span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">flag1600px</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aa</span><span class="p">[</span><span class="s1">'sizes'</span><span class="p">][</span><span class="s1">'size'</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Large'</span> <span class="p">:</span>
            <span class="n">url_src</span><span class="o">=</span><span class="n">i</span><span class="p">[</span><span class="s1">'source'</span><span class="p">]</span>
            <span class="n">xx</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">'width'</span><span class="p">])</span>
            <span class="n">yy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">'height'</span><span class="p">])</span>

<span class="n">aa</span><span class="o">=</span><span class="n">flickr</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">getExif</span><span class="p">(</span><span class="n">photo_id</span><span class="o">=</span><span class="n">fotoID</span><span class="p">)</span>
<span class="n">metad</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">([</span><span class="s1">'exp'</span><span class="p">,</span><span class="s1">'ape'</span><span class="p">,</span><span class="s1">'iso'</span><span class="p">,</span><span class="s1">'foc'</span><span class="p">,</span><span class="s1">'len'</span><span class="p">,</span><span class="s1">'cam'</span><span class="p">,</span><span class="s1">'day'</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aa</span><span class="p">[</span><span class="s1">'photo'</span><span class="p">][</span><span class="s1">'exif'</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Exposure'</span><span class="p">:</span>
        <span class="n">metad</span><span class="p">[</span><span class="s1">'exp'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Aperture'</span><span class="p">:</span>
        <span class="n">metad</span><span class="p">[</span><span class="s1">'ape'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'ISO Speed'</span><span class="p">:</span>
        <span class="n">metad</span><span class="p">[</span><span class="s1">'iso'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Focal Length (35mm format)'</span><span class="p">:</span>
        <span class="n">metad</span><span class="p">[</span><span class="s1">'foc'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Lens'</span><span class="p">:</span>
        <span class="n">metad</span><span class="p">[</span><span class="s1">'len'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Model'</span><span class="p">:</span>
        <span class="n">metad</span><span class="p">[</span><span class="s1">'cam'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Date and Time (Digitized)'</span><span class="p">:</span>
        <span class="n">metad</span><span class="p">[</span><span class="s1">'day'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">':'</span><span class="p">,</span><span class="s1">'-'</span><span class="p">)</span>


<span class="k">print</span><span class="p">(</span><span class="s1">'---BEGIN---</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">'&lt;figure&gt;</span><span class="se">\n</span><span class="s1">&lt;a href="{0}" title="{1}"&gt;&lt;img src="{2}" width="{3}" height="{4}"&gt;&lt;/a&gt;</span><span class="se">\n</span><span class="s1">&lt;figcaption&gt;{5} sec. at f/{6}, ISO {7}, {8} ({9}, {10}).&lt;/figcaption&gt;</span><span class="se">\n</span><span class="s1">&lt;/figure&gt;'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">url_page</span><span class="p">,</span><span class="n">metad</span><span class="p">[</span><span class="s1">'day'</span><span class="p">]</span><span class="o">+</span><span class="n">title</span><span class="p">,</span><span class="n">url_src</span><span class="p">,</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">metad</span><span class="p">[</span><span class="s1">'exp'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'ape'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'iso'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'foc'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'len'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'cam'</span><span class="p">]))</span>
<span class="k">print</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">---END---'</span><span class="p">)</span>
</pre></div>
<p>And this is <code>flickr_album.py</code>:</p>
<div class="highlight"><pre><span></span><span class="c1">#**********************************************************</span>
<span class="c1"># flickr_album.py</span>
<span class="c1"># (C) 2015-2016 aadm</span>
<span class="c1">#**********************************************************</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">flickrapi</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">'INSERT_API_KEY_HERE'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">'INSERT_API_SECRET_HERE'</span>
<span class="n">flickr</span> <span class="o">=</span> <span class="n">flickrapi</span><span class="o">.</span><span class="n">FlickrAPI</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s1">'parsed-json'</span><span class="p">)</span>

<span class="n">VV</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span>
<span class="n">ff</span> <span class="o">=</span> <span class="n">flickr</span><span class="o">.</span><span class="n">photosets</span><span class="o">.</span><span class="n">getPhotos</span><span class="p">(</span><span class="n">photoset_id</span><span class="o">=</span><span class="n">VV</span><span class="p">,</span> <span class="n">extras</span><span class="o">=</span><span class="s1">'views,tags'</span><span class="p">)</span>

<span class="n">elencofoto</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">foto</span> <span class="ow">in</span> <span class="n">ff</span><span class="p">[</span><span class="s1">'photoset'</span><span class="p">][</span><span class="s1">'photo'</span><span class="p">]:</span>
    <span class="n">fotoID</span><span class="o">=</span><span class="n">foto</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
    <span class="n">title</span><span class="o">=</span><span class="n">foto</span><span class="p">[</span><span class="s1">'title'</span><span class="p">]</span>
    <span class="n">views</span><span class="o">=</span><span class="n">foto</span><span class="p">[</span><span class="s1">'views'</span><span class="p">]</span>

    <span class="n">aa</span><span class="o">=</span><span class="n">flickr</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">getInfo</span><span class="p">(</span><span class="n">photo_id</span><span class="o">=</span><span class="n">fotoID</span><span class="p">)</span>
    <span class="n">url_page</span><span class="o">=</span><span class="n">aa</span><span class="p">[</span><span class="s1">'photo'</span><span class="p">][</span><span class="s1">'urls'</span><span class="p">][</span><span class="s1">'url'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>

    <span class="n">aa</span><span class="o">=</span><span class="n">flickr</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">getSizes</span><span class="p">(</span><span class="n">photo_id</span><span class="o">=</span><span class="n">fotoID</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aa</span><span class="p">[</span><span class="s1">'sizes'</span><span class="p">][</span><span class="s1">'size'</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Large 1600'</span><span class="p">:</span>
            <span class="n">url_src</span><span class="o">=</span><span class="n">i</span><span class="p">[</span><span class="s1">'source'</span><span class="p">]</span>
            <span class="n">xx</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">'width'</span><span class="p">])</span>
            <span class="n">yy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">'height'</span><span class="p">])</span>
            <span class="n">flag1600px</span><span class="o">=</span><span class="bp">True</span>
    <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">flag1600px</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aa</span><span class="p">[</span><span class="s1">'sizes'</span><span class="p">][</span><span class="s1">'size'</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Large'</span> <span class="p">:</span>
                <span class="n">url_src</span><span class="o">=</span><span class="n">i</span><span class="p">[</span><span class="s1">'source'</span><span class="p">]</span>
                <span class="n">xx</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">'width'</span><span class="p">])</span>
                <span class="n">yy</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">'height'</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">xx</span><span class="o">&gt;</span><span class="n">yy</span><span class="p">:</span>
        <span class="n">ori</span><span class="o">=</span><span class="s1">'landscape'</span>
    <span class="k">elif</span> <span class="n">xx</span><span class="o">&lt;</span><span class="n">yy</span><span class="p">:</span>
        <span class="n">ori</span><span class="o">=</span><span class="s1">'portrait'</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ori</span><span class="o">=</span><span class="s1">'square'</span>
    <span class="k">print</span> <span class="s1">'titolo={0}, id={1}, views={2}, orientation={3}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">title</span><span class="p">,</span><span class="n">fotoID</span><span class="p">,</span><span class="n">views</span><span class="p">,</span><span class="n">ori</span><span class="p">)</span>

    <span class="n">aa</span><span class="o">=</span><span class="n">flickr</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">getExif</span><span class="p">(</span><span class="n">photo_id</span><span class="o">=</span><span class="n">fotoID</span><span class="p">)</span>
    <span class="n">metad</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">([</span><span class="s1">'exp'</span><span class="p">,</span><span class="s1">'ape'</span><span class="p">,</span><span class="s1">'iso'</span><span class="p">,</span><span class="s1">'foc'</span><span class="p">,</span><span class="s1">'len'</span><span class="p">,</span><span class="s1">'cam'</span><span class="p">,</span><span class="s1">'day'</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aa</span><span class="p">[</span><span class="s1">'photo'</span><span class="p">][</span><span class="s1">'exif'</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Exposure'</span><span class="p">:</span>
            <span class="n">metad</span><span class="p">[</span><span class="s1">'exp'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Aperture'</span><span class="p">:</span>
            <span class="n">metad</span><span class="p">[</span><span class="s1">'ape'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'ISO Speed'</span><span class="p">:</span>
            <span class="n">metad</span><span class="p">[</span><span class="s1">'iso'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Focal Length (35mm format)'</span><span class="p">:</span>
            <span class="n">metad</span><span class="p">[</span><span class="s1">'foc'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Lens'</span><span class="p">:</span>
            <span class="n">metad</span><span class="p">[</span><span class="s1">'len'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Model'</span><span class="p">:</span>
            <span class="n">metad</span><span class="p">[</span><span class="s1">'cam'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Date and Time (Digitized)'</span><span class="p">:</span>
            <span class="n">metad</span><span class="p">[</span><span class="s1">'day'</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">'raw'</span><span class="p">][</span><span class="s1">'_content'</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">':'</span><span class="p">,</span><span class="s1">'-'</span><span class="p">)</span>

    <span class="n">elencofoto</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'&lt;figure&gt;</span><span class="se">\n</span><span class="s1">&lt;a href="{0}" title="{1}"&gt;&lt;img src="{2}" width="{3}" height="{4}"&gt;&lt;/a&gt;</span><span class="se">\n</span><span class="s1">&lt;figcaption&gt;{5} sec. at f/{6}, ISO {7}, {8} ({9}, {10}).&lt;/figcaption&gt;</span><span class="se">\n</span><span class="s1">&lt;/figure&gt;'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">url_page</span><span class="p">,</span><span class="n">metad</span><span class="p">[</span><span class="s1">'day'</span><span class="p">]</span><span class="o">+</span><span class="n">title</span><span class="p">,</span><span class="n">url_src</span><span class="p">,</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">metad</span><span class="p">[</span><span class="s1">'exp'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'ape'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'iso'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'foc'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'len'</span><span class="p">],</span><span class="n">metad</span><span class="p">[</span><span class="s1">'cam'</span><span class="p">]))</span>

<span class="k">print</span> <span class="s1">'---BEGIN---</span><span class="se">\n</span><span class="s1">'</span>
<span class="k">print</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">elencofoto</span><span class="p">)</span>
<span class="k">print</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">---END---'</span>
</pre></div>
<p>The required information to fill in the scripts above are <code>api_key</code>, <code>api_secret</code> (more information here: <a href="https://www.flickr.com/services/api/misc.urls.html">https://www.flickr.com/services/api/misc.urls.html</a>). The first two will be available after you <a href="https://www.flickr.com/services/api/keys/">request an <span class="caps">API</span> key</a>.</p>
<p>If you want the link to other versions of the photo you need to change the <code>'Large 1600'</code> string in the code above; valid formats are listed <a href="https://www.flickr.com/services/api/misc.urls.html">here</a> but the actual name to fed to the comparison above who knows where it’s written. You can use this little extra piece of Python to get all the sizes (as the other two, save it with a name like <code>get_sizes.py</code> and run it with <code>$ python get_sizes.py 24643653612</code>):</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">flickrapi</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">'INSERT_API_KEY_HERE'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">'INSERT_API_SECRET_HERE'</span>

<span class="n">flickr</span> <span class="o">=</span> <span class="n">flickrapi</span><span class="o">.</span><span class="n">FlickrAPI</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s1">'parsed-json'</span><span class="p">)</span>

<span class="n">fotoID</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span>
<span class="n">aa</span><span class="o">=</span><span class="n">flickr</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">getSizes</span><span class="p">(</span><span class="n">photo_id</span><span class="o">=</span><span class="n">fotoID</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aa</span><span class="p">[</span><span class="s1">'sizes'</span><span class="p">][</span><span class="s1">'size'</span><span class="p">]:</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">'{0}: {1}x{2}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">'label'</span><span class="p">],</span><span class="n">i</span><span class="p">[</span><span class="s1">'width'</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="s1">'height'</span><span class="p">]))</span>
</pre></div>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="http://aadm.github.io/2015-11-20-pelican-lives.html">pelican&nbsp;lives</a></li>
        <li><a href="http://aadm.github.io/2015-11-12-last-iteration.html">last&nbsp;iteration</a></li>
        <li><a href="http://aadm.github.io/2013-12-04-naming-files.html">file&nbsp;naming</a></li>
        <li><a href="http://aadm.github.io/2013-11-09-blog-renewal.html">blog&nbsp;update</a></li>
        <li><a href="http://aadm.github.io/2013-07-24-google-calendar-activity-tracker.html">google calendar activity&nbsp;tracker</a></li>
    </ul>
</section>
        </article>
    </section>

    <style type="text/css">
    #navcontainer ul
    {
    margin: 0;
    margin-top: 40px;
    padding: 0;
    list-style-type: none;
    text-align: center;
    }
    #navcontainer ul li { display: inline; }
    #navcontainer ul li a { padding: 1em 3em; }
    </style>

    <div id="navcontainer">
    <ul id="navlist">
        <li><a href="http://aadm.github.io/2016-01-10-nicolai-mojo.html"><i class="fa fa-angle-left"></i> PREVIOUS</a></li>
        <li><a href="http://aadm.github.io/2016-02-02-a-little-camera.html">NEXT <i class="fa fa-angle-right"></i></a></li>
    </div>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2005-2019 Alessandro Amato del Monte              <p><small>  <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>
  <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution 4.0 International License</a>
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-angle-up"></i> <a href="#">TOP</a></p></div>
      </div>
   </div>
</footer>
<script src="http://aadm.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://aadm.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://aadm.github.io/theme/js/respond.min.js"></script>

    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-32354823-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

</body>
</html>